"use strict";var tomochain;jQuery,tomochain={init:function(){this.header(),this.imageCarousel(),this.langSwitcher(),this.mainMenu(),this.mobileMenu(),this.roadmap(),this.sendgrid()}},function(e){tomochain.header=function(){e(".site-header").headroom()}}(jQuery),function(n){tomochain.imageCarousel=function(){n(".tomochain-image-carousel").each(function(){var e=n(this),i=JSON.parse(e.attr("data-atts"));if(null!=i){(void 0===i.auto_play_speed||isNaN(i.auto_play_speed))&&(i.auto_play_speed=5);var t={accessibility:!1,arrows:!1,slidesToShow:parseInt(i.number_of_images_to_show),slidesToScroll:1,infinite:"yes"==i.loop,autoplay:"yes"==i.auto_play,autoplaySpeed:1e3*parseInt(i.auto_play_speed),responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:769,settings:{slidesToShow:3}},{breakpoint:544,settings:{slidesToShow:2}}]};1==parseInt(i.number_of_images_to_show)&&(t.responsive=[{breakpoint:1200,settings:{adaptiveHeight:!0,slidesToShow:2}},{breakpoint:544,settings:{adaptiveHeight:!0,slidesToShow:2}}]),e.slick(t).on("wheel",function(e){e.preventDefault(),e.originalEvent.deltaY<0?n(this).slick("slickNext"):n(this).slick("slickPrev")})}})}}(jQuery),function(t){tomochain.langSwitcher=function(){var i=t("body");t("#tomochain-lang-switcher").each(function(){var e=t(this);t("option",e).length&&e.niceSelect(),i.on("click",".tomochain-lang-switcher-wrapper .nice-select .option",function(){var e=t(this);t(".tomochain-lang-switcher-wrapper").addClass("loading"),setTimeout(function(){window.location=e.attr("data-value")},1e3)})})}}(jQuery),function(n){tomochain.mainMenu=function(){var e=n(".site-header:not(.sticky-header)"),i=n(".site-header.sticky-header"),t=e.find(".main-menu");i.hasClass("is-sticky")&&(t=i.find(".main-menu")),(t.length||t.find("ul.menu").length)&&t.find("ul.menu").superfish({delay:300,speed:300,speedOut:300,autoArrows:!1,dropShadows:!1,onBeforeShow:function(){n(this).removeClass("animated fast fadeOutDownSmall"),n(this).addClass("animated fast fadeInUpSmall")},onBeforeHide:function(){n(this).removeClass("animated fast fadeInUpSmall"),n(this).addClass("animated fast fadeOutDownSmall")}})}}(jQuery),function(t){tomochain.roadmap=function(){var e=t(".tomochain-roadmap").find(".tomochain-roadmap-item--current").index(),i=t(".tomochain-roadmap").slick({accessibility:!1,arrows:!1,infinite:!1,initialSlide:e,slidesToScroll:1,slidesToShow:4,responsive:[{breakpoint:1201,settings:{slidesToShow:3}},{breakpoint:769,settings:{slidesToShow:2}},{breakpoint:426,settings:"unslick"}]});426<=t(window).width()&&i.on("wheel",function(e){e.preventDefault(),e.originalEvent.deltaY<0?t(this).slick("slickNext"):t(this).slick("slickPrev")})}}(jQuery),function(l){var r=l(window),c=l("body");tomochain.setTopValue=function(e){var i=l("#wpadminbar"),t=(r.width(),i.height()),n=t;if(i.length){var o=i[0].getBoundingClientRect().top;n=0-t<=o?t+o:0}e.closest(".sticky-header.is-sticky").length&&(n=0),e.css("top",n)},tomochain.mobileMenu=function(){var n,o,i=l(".mobile-menu-btn"),a=l("#site-mobile-menu"),t=l(".site-mobile-menu-wrapper"),e=l("#content.site-content"),s=function(e,i){e<i?t.css("overflow-y","hidden"):t.css("overflow-y","auto")};void 0!==a&&void 0!==e&&(i.on("click",function(){l(this).toggleClass("is-active"),c.toggleClass("mobile-menu-opened"),tomochain.setTopValue(t)}),e.on("click touchstart",function(e){l(e.target).closest(".mobile-menu-btn").length||c.hasClass("mobile-menu-opened")&&(c.removeClass("mobile-menu-opened"),i.removeClass("is-active"),a.find('#searchform input[type="text"]').blur(),e.preventDefault())}),s(a.height(),t.height())),n=0,o=t.height(),a.find("li:has(ul)").each(function(){var e=l(this),i=e.find("> a").clone();i.length&&(e.prepend('<span class="open-child">open</span>'),i.find(".menu-item-tag").remove(),e.find("> ul").prepend('<li class="menu-back">'+i.wrap("<div>").parent().html()+"</a></li>"))}),a.on("click",".open-child",function(){var e,i,t=l(this).parent();t.hasClass("over")?(t.removeClass("over"),0==--n&&s(a.height(),o)):(t.parent().find(">li.over").removeClass("over"),t.addClass("over"),n++,s((e=t.find(">.sub-menu"),i=0,e.find(">li").each(function(){i+=l(this).outerHeight()}),i),o)),a.parent().scrollTop(0)}),a.on("click",".menu-back",function(){var e=l(this).parent().parent();e.hasClass("over")&&(e.removeClass("over"),0==--n&&s(a.height(),o)),a.parent().scrollTop(0)}),a.on("click",".menu-back > a",function(e){e.preventDefault()}),r.on("resize",function(){tomochain.setTopValue(t)})}}(jQuery),function(n){tomochain.sendgrid=function(){n("#tomo-sendgrid-form").on("submit",function(e){e.preventDefault();var i=n(this),t=i.find("#tomo-sendgrid-email").val();i.addClass("loading"),n.ajax({type:"POST",url:tomochainConfigs.ajax_url,data:{action:"tomochain_process_subscription",email:t},success:function(e){i.removeClass("loading"),e.code&&e.message&&(i.addClass(e.code),n(".tomo-sendgrid-text").text(e.message).addClass("show"))}})})}}(jQuery),jQuery(document).ready(function(){tomochain.init()});